{% extends "base.html" %}
{% load static %}

{% block title %}Progression{% endblock %}

{% block content %}

<div class="container mt-4">

    <h2 class="mb-4 text-center">üìà Progression des Entra√Ænements</h2>

    <div class="card shadow-sm">
        <div class="card-body">

            {% if labels %}
                <p class="text-muted">
                    Analyse des derni√®res semaines : nombre de s√©ances, dur√©e totale et charge totale.
                </p>

                <!-- Donn√©es Django ‚Üí JSON -->
                {{ labels|json_script:"labels-data" }}
                {{ session_counts|json_script:"sessions-data" }}
                {{ durations|json_script:"durations-data" }}
                {{ total_weight|json_script:"weight-data" }}

                <div class="mt-4">
                    <canvas id="progressChart" height="120"></canvas>
                </div>

            {% else %}
                <div class="alert alert-info text-center mb-0">
                    Aucune donn√©e disponible pour le moment.
                    <br>Commence par enregistrer tes s√©ances !
                </div>
            {% endif %}

        </div>
    </div>

</div>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- Ton JS -->
<script src="{% static 'js/progression.js' %}"></script>

{% endblock %}
